<!DOCTYPE html>
<head>
    <meta charset="utf-8">
</head>
<html>
<body>
<svg id="s" width="1920" height="800"></svg>

<script src="build/opentype.js"></script>
<script>

var DELTA = 50;

function rand() {
    return (Math.random() - 0.5) * DELTA;
}

opentype.load('fonts/FiraSansMedium.woff', function(err, font) {
    console.assert(!err, err);
    let path = font.getPath('hamburgevons', 100, 500, 100);
    for (var i = 0; i < path.commands.length; i++) {
        var cmd = path.commands[i];
        switch (cmd.type) {
            case 'C':
                cmd.x2 += rand();
                cmd.y2 += rand();
            case 'Q':
                cmd.x1 += rand();
                cmd.y1 += rand();
            case 'M':
            case 'L':
                cmd.x += rand();
                cmd.y += rand();
        }
    }



    let svg = document.getElementById('s');
    let el = path.toDOMElement();
    svg.appendChild(el);

    let bbox = path.getBoundingBox();

    let bp = new opentype.Path();
    bp.extend(bbox);
    let bpEl = bp.toDOMElement();
    bpEl.setAttribute('fill', 'none');
    bpEl.setAttribute('stroke', 'black');
    bpEl.setAttribute('lineWidth', '1');

    svg.appendChild(bpEl);
});
</script>


</body>
</html>
